{"version":3,"file":"fittext.modern.js","sources":["../src/fittext.js"],"sourcesContent":["/*!\r\n* FitText.js 1.2\r\n*\r\n* Copyright 2011, Dave Rupert http://daverupert.com\r\n* Released under the WTFPL license\r\n* http://sam.zoy.org/wtfpl/\r\n* \r\n* Various modifications by Carlos Vergara <cfvergara@gmail.com>\r\n* also released under the WTFPL license\r\n* http://sam.zoy.org/wtfpl/\r\n*/\r\n\r\nif (Number.parseFloat === void 0) {\r\n\tNumber.parseFloat = parseFloat;\r\n}\r\n\r\nconst { NEGATIVE_INFINITY, POSITIVE_INFINITY, parseFloat } = Number;\r\n\r\nconst DEFAULT_OPTIONS = {\r\n\tminFontSize: NEGATIVE_INFINITY,\r\n\tmaxFontSize: POSITIVE_INFINITY\r\n};\r\n\r\nexport default function FitText(selectorOrNodes) {\r\n\tlet workingNodes;\r\n\tif (!selectorOrNodes) {\r\n\t\treturn;\r\n\t}\r\n\tif (selectorOrNodes instanceof NodeList) {\r\n\t\tworkingNodes = [ ...selectorOrNodes ];\r\n\t}\r\n\tif (selectorOrNodes instanceof HTMLElement) {\r\n\t\tworkingNodes = [ selectorOrNodes ];\r\n\t}\r\n\tif (selectorOrNodes.constructor === String) {\r\n\t\tworkingNodes = [ ...document.querySelectorAll(selectorOrNodes) ];\r\n\t}\r\n\r\n\treturn function ActualFitConstructor(compressionFactor = 1, options = {}) {\r\n\t\tconst compressor = compressionFactor;\r\n\t\tconst settings = {\r\n\t\t\t...DEFAULT_OPTIONS,\r\n\t\t\t...options\r\n\t\t};\r\n\r\n\t\treturn workingNodes.forEach((node) => {\r\n\t\t\tconst resizer = function() {\r\n\t\t\t\tnode.style.fontSize =\r\n\t\t\t\t\tMath.max(\r\n\t\t\t\t\t\tMath.min(\r\n\t\t\t\t\t\t\tnode.clientWidth / (compressor * 10),\r\n\t\t\t\t\t\t\tparseFloat(settings.maxFontSize)\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tparseFloat(settings.minFontSize)\r\n\t\t\t\t\t) + 'px';\r\n\t\t\t};\r\n\r\n\t\t\tresizer();\r\n\r\n\t\t\twindow.addEventListener('resize', resizer);\r\n\t\t\twindow.addEventListener('orientationchange', resizer);\r\n\t\t});\r\n\t};\r\n}\r\n"],"names":["Number","parseFloat","NEGATIVE_INFINITY","POSITIVE_INFINITY","DEFAULT_OPTIONS","minFontSize","maxFontSize","selectorOrNodes","workingNodes","NodeList","HTMLElement","constructor","String","document","querySelectorAll","compressionFactor","options","compressor","settings","forEach","node","resizer","style","fontSize","Math","max","min","clientWidth","window","addEventListener"],"mappings":"oNAY0B,IAAtBA,OAAOC,aACVD,OAAOC,WAAaA,GAGrB,MAAMC,kBAAEA,EAAFC,kBAAqBA,EAArBF,WAAwCA,GAAeD,OAEvDI,EAAkB,CACvBC,YAAaH,EACbI,YAAaH,2BAGkBI,GAC/B,IAAIC,EACJ,GAAKD,EAaL,OAVIA,aAA2BE,WAC9BD,EAAe,IAAKD,IAEjBA,aAA2BG,cAC9BF,EAAe,CAAED,IAEdA,EAAgBI,cAAgBC,SACnCJ,EAAe,IAAKK,SAASC,iBAAiBP,cAGVQ,EAAoB,EAAGC,EAAU,IACrE,MAAMC,EAAaF,EACbG,OACFd,EACAY,GAGJ,OAAOR,EAAaW,QAASC,IAC5B,MAAMC,EAAU,WACfD,EAAKE,MAAMC,SACVC,KAAKC,IACJD,KAAKE,IACJN,EAAKO,aAA4B,GAAbV,GACpBhB,EAAWiB,EAASZ,cAErBL,EAAWiB,EAASb,cACjB,MAGNgB,IAEAO,OAAOC,iBAAiB,SAAUR,GAClCO,OAAOC,iBAAiB,oBAAqBR"}